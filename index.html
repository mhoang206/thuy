<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>G·ª≠i Em B√© Th·ªßy ‚ù§Ô∏è</title>
<link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Nunito:wght@300;400;600;700&display=swap" rel="stylesheet">
<style>
    /* === C·∫§U H√åNH C∆† B·∫¢N === */
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
        background-color: #000;
        color: #fff;
        font-family: 'Nunito', sans-serif;
        overflow: hidden; /* Ch·∫∑n cu·ªôn trang web */
        height: 100vh;
        display: flex; justify-content: center; align-items: center;
    }

    /* === BACKGROUND HEART (CANVAS) === */
    canvas { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 0; }

    /* === CONTAINER CH√çNH === */
    .container {
        position: relative; z-index: 10;
        width: 100%; max-width: 500px;
        height: 100vh;
        display: flex; flex-direction: column;
        justify-content: center; align-items: center;
        background: rgba(0, 0, 0, 0.4); /* N·ªÅn m·ªù nh·∫π ƒë·ªÉ n·ªïi ch·ªØ */
        backdrop-filter: blur(2px);
    }

    /* === KHUNG ·∫¢NH (SLIDESHOW) === */
    .photo-frame {
        width: 250px; height: 320px;
        border: 2px solid #ff4d6d;
        border-radius: 15px;
        padding: 5px;
        box-shadow: 0 0 20px rgba(255, 77, 109, 0.5);
        margin-bottom: 20px;
        position: relative;
        background: #000;
        transform: rotate(-3deg);
        transition: transform 0.5s;
    }
    .photo-frame:hover { transform: rotate(0deg) scale(1.05); }
    
    .photo-frame img {
        width: 100%; height: 100%;
        object-fit: cover; border-radius: 10px;
        display: none; /* ·∫®n h·∫øt, JS s·∫Ω hi·ªán t·ª´ng c√°i */
        animation: fadeIn 1s ease;
    }
    .photo-frame img.active { display: block; }

    /* === TEXT BOX (QUAN TR·ªåNG: CH·ªñ N√ÄY ƒê·ªÇ TEXT D√ÄI) === */
    .content-box {
        width: 90%;
        height: 40%; /* Chi·∫øm 40% m√†n h√¨nh */
        background: rgba(20, 20, 20, 0.85);
        border-radius: 20px;
        border: 1px solid rgba(255, 77, 109, 0.3);
        padding: 20px;
        overflow-y: auto; /* Cho ph√©p cu·ªôn d·ªçc n·∫øu vƒÉn b·∫£n qu√° d√†i */
        text-align: left;
        position: relative;
        box-shadow: 0 -5px 20px rgba(0,0,0,0.5);
    }

    /* T√πy ch·ªânh thanh cu·ªôn cho ƒë·∫πp */
    .content-box::-webkit-scrollbar { width: 5px; }
    .content-box::-webkit-scrollbar-thumb { background: #ff4d6d; border-radius: 10px; }

    #title {
        font-family: 'Dancing Script', cursive;
        font-size: 1.8rem; color: #ff4d6d;
        margin-bottom: 10px; text-align: center;
        text-shadow: 0 0 10px rgba(255, 77, 109, 0.8);
    }

    #typewriter {
        font-size: 1rem; line-height: 1.6; color: #eee;
        white-space: pre-wrap; /* Gi·ªØ nguy√™n xu·ªëng d√≤ng */
    }

    /* Con tr·ªè nh·∫•p nh√°y */
    .cursor {
        display: inline-block; width: 2px; height: 1em;
        background: #ff4d6d; animation: blink 1s infinite;
    }

    /* === START SCREEN === */
    #start-screen {
        position: fixed; inset: 0; z-index: 100;
        background: #000;
        display: flex; flex-direction: column; justify-content: center; align-items: center;
        transition: opacity 1s;
    }
    .btn-start {
        padding: 15px 40px; border: 2px solid #ff4d6d;
        color: #ff4d6d; font-size: 1.2rem; background: transparent;
        border-radius: 50px; cursor: pointer;
        font-family: 'Nunito', sans-serif; font-weight: bold;
        box-shadow: 0 0 15px rgba(255, 77, 109, 0.4);
    }
    .btn-start:hover { background: #ff4d6d; color: #fff; }

    /* === MUSIC ICON === */
    .music-control {
        position: fixed; top: 20px; right: 20px; z-index: 50;
        font-size: 24px; cursor: pointer; animation: spin 4s linear infinite;
        opacity: 0.7;
    }

    @keyframes blink { 50% { opacity: 0; } }
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    @keyframes spin { 100% { transform: rotate(360deg); } }

</style>
</head>
<body>

    <!-- M√ÄN H√åNH CH·ªú -->
    <div id="start-screen">
        <h1 style="font-family: 'Dancing Script'; color: #ff4d6d; margin-bottom: 20px; font-size: 2.5rem;">G·ª≠i Em B√© Th·ªßy</h1>
        <button class="btn-start" onclick="startLove()">Nh·∫•n ƒë·ªÉ m·ªü th∆∞ üíå</button>
    </div>

    <!-- BACKGROUND CANVAS -->
    <canvas id="pinkboard"></canvas>

    <!-- MUSIC -->
    <div class="music-control" onclick="toggleMusic()">üíø</div>
    <audio id="bg-music" loop>
        <!-- Link nh·∫°c Phan M·∫°nh Qu·ª≥nh -->
        <source src="https://data.chiasenhac.com/down/2274/4/2273678-0c68377c/128/Tinh%20Yeu%20Giua%20Mua%20Dong%20-%20Phan%20Manh%20Quy.mp3" type="audio/mpeg">
    </audio>

    <div class="container">
        <!-- ·∫¢NH SLIDESHOW (3 ·∫£nh trong link m√†y g·ª≠i) -->
        <div class="photo-frame">
            <img src="https://i.ibb.co/39dR6M7y/22a82464-d5ab-4b16-ac5c-e5f576b28df3.jpg" class="active">
            <img src="https://i.ibb.co/kVSC53Sy/b72d25f5-8263-4b6d-ae3f-d71c478369d6.jpg">
            <img src="https://i.ibb.co/jPfK1nmm/5777c032-3742-437e-80d1-6afefcb8232c.jpg">
        </div>

        <!-- KHUNG TEXT -->
        <div class="content-box">
            <div id="title">Ch√†o b√© iu c·ªßa anh</div>
            <div id="text-container">
                <span id="typewriter"></span><span class="cursor"></span>
            </div>
        </div>
    </div>

<script>
    /* === 1. N·ªòI DUNG L·ªúI CH√öC (S·ª¨A ·ªû ƒê√ÇY THO·∫¢I M√ÅI, KH√îNG GI·ªöI H·∫†N) === */
    const myLoveLetter = `Em be √†, m√πng 1 t·∫øt r·ªìi, anh ch√∫c em lu√¥n kho·∫ª, lu√¥n vui, m·ªçi th·ª© ƒë·ªÅu su√¥n s·∫ª nha. C·∫£m ∆°n em v√¨ kho·∫£ng th·ªùi gian qua lu√¥n ·ªü b√™n c·∫°nh, lu√¥n hi·ªÉu anh. Anh tr√¢n tr·ªçng em l·∫Øm, anh s·∫Ω c·ªë g·∫Øng th·∫≠t nhi·ªÅu v√¨ m√¨nh.

Bi·∫øt l√† th·ªùi gian t·ªõi s·∫Ω kh√≥ khƒÉn, kho·∫£ng c√°ch s·∫Ω xa h∆°n, nh∆∞ng anh h·ª©a l√† s·∫Ω lu√¥n c·ªë g·∫Øng. Anh kh√¥ng gi·ªèi n√≥i m·∫•y l·ªùi hoa m·ªπ, nh∆∞ng t√¨nh c·∫£m anh d√†nh cho em l√† th·∫≠t. 

Anh mu·ªën c√πng em ƒëi qua nhi·ªÅu m√πa T·∫øt n·ªØa, kh√¥ng ch·ªâ l√† T·∫øt n√†y. 
D√π c√≥ chuy·ªán g√¨ x·∫£y ra, h√£y nh·ªõ l√† lu√¥n c√≥ anh ·ªü ƒë√¢y, s·∫µn s√†ng nghe em k·ªÉ l·ªÉ, s·∫µn s√†ng l√†m th√πng r√°c cho em x·∫£ stress.

Y√™u em nhi·ªÅu l·∫Øm, em b√© c·ªßa anh! ‚ù§Ô∏è
(Anh ƒë·ªÉ ch·ªó n√†y d√†i tho·∫£ th√≠ch lu√¥n n√®, em ƒë·ªçc m·ªèi m·∫Øt th√¨ th√¥i :D)`;

    /* === 2. LOGIC G√ï CH·ªÆ (TYPEWRITER) === */
    let i = 0;
    const speed = 50; // T·ªëc ƒë·ªô g√µ (ms)
    const typeTarget = document.getElementById("typewriter");
    const contentBox = document.querySelector(".content-box");

    function typeWriter() {
        if (i < myLoveLetter.length) {
            typeTarget.innerHTML += myLoveLetter.charAt(i);
            i++;
            // T·ª± ƒë·ªông cu·ªôn xu·ªëng khi ch·ªØ ch·∫°y
            contentBox.scrollTop = contentBox.scrollHeight;
            setTimeout(typeWriter, speed);
        }
    }

    /* === 3. LOGIC SLIDESHOW ·∫¢NH === */
    let imgIndex = 0;
    const images = document.querySelectorAll(".photo-frame img");
    
    function changeImage() {
        images[imgIndex].classList.remove("active");
        imgIndex = (imgIndex + 1) % images.length;
        images[imgIndex].classList.add("active");
    }
    setInterval(changeImage, 3000); // ƒê·ªïi ·∫£nh m·ªói 3 gi√¢y

    /* === 4. B·∫ÆT ƒê·∫¶U === */
    function startLove() {
        document.getElementById("start-screen").style.opacity = 0;
        setTimeout(() => {
            document.getElementById("start-screen").style.display = "none";
            document.getElementById("bg-music").play(); // Ph√°t nh·∫°c
            typeWriter(); // B·∫Øt ƒë·∫ßu g√µ ch·ªØ
        }, 1000);
    }

    function toggleMusic() {
        const audio = document.getElementById("bg-music");
        if(audio.paused) audio.play();
        else audio.pause();
    }

    /* === 5. HI·ªÜU ·ª®NG HEARTBEAT CANVAS (GI·ªêNG LINK M·∫™U NH∆ØNG M∆Ø·ª¢T H∆†N) === */
    var settings = { particles: { length: 500, duration: 2, velocity: 100, effect: -0.75, size: 30, }, };
    (function(){var b=0;var c=["ms","moz","webkit","o"];for(var a=0;a<c.length&&!window.requestAnimationFrame;++a){window.requestAnimationFrame=window[c[a]+"RequestAnimationFrame"];window.cancelAnimationFrame=window[c[a]+"CancelAnimationFrame"]||window[c[a]+"CancelRequestAnimationFrame"]}if(!window.requestAnimationFrame){window.requestAnimationFrame=function(h,e){var d=new Date().getTime();var f=Math.max(0,16-(d-b));var g=window.setTimeout(function(){h(d+f)},f);b=d+f;return g}}if(!window.cancelAnimationFrame){window.cancelAnimationFrame=function(d){clearTimeout(d)}}}());
    var Point=function(c,b){this.x=c||0;this.y=b||0};Point.prototype.clone=function(){return new Point(this.x,this.y)};Point.prototype.length=function(a){if(typeof a=="undefined"){return Math.sqrt(this.x*this.x+this.y*this.y)}this.normalize();this.x*=a;this.y*=a;return this};Point.prototype.normalize=function(){var a=this.length();this.x/=a;this.y/=a;return this};
    var Particle=function(){this.position=new Point();this.velocity=new Point();this.acceleration=new Point();this.age=0};Particle.prototype.initialize=function(b,a,c){this.position.x=a;this.position.y=c;this.velocity.x=b.x;this.velocity.y=b.y;this.acceleration.x=b.x*-0.1;this.acceleration.y=b.y*-0.1;this.age=0};Particle.prototype.update=function(b){this.position.x+=this.velocity.x*b;this.position.y+=this.velocity.y*b;this.velocity.x+=this.acceleration.x*b;this.velocity.y+=this.acceleration.y*b;this.age+=b};Particle.prototype.draw=function(c,b){function a(g){return 16*Math.pow(Math.sin(g),3)}function d(g){return-(13*Math.cos(g)-5*Math.cos(2*g)-2*Math.cos(3*g)-Math.cos(4*g))}b.beginPath();var f=this.position.x,e=this.position.y;b.fillStyle="#ea80b0";b.arc(f,e,settings.particles.size,0,Math.PI*2,true);b.fill()};
    var ParticlePool=function(a){var c,b=0;this.particles=[];for(c=0;c<a;c++){this.particles.push(new Particle())}this.add=function(f,e,d){this.particles[b].initialize(f,e,d);b=(b+1)%this.particles.length}};
    (function(p){var b,i,k,h,n,o;var a=new ParticlePool(settings.particles.length);var m=settings.particles.duration;var e;function g(q){var l=new Date().getTime()/1000;var s=l-(e||l);e=l;k.clearRect(0,0,b.width,b.height);var u=function(v){return 16*Math.pow(Math.sin(v),3)};var r=function(v){return-(13*Math.cos(v)-5*Math.cos(2*v)-2*Math.cos(3*v)-Math.cos(4*v))};var t=(Math.PI/180)*(new Date().getTime()/20)%360;var w=new Point(u(t)*130+b.width/2,r(t)*130+b.height/2);for(var x=0;x<settings.particles.length;x++){var z=a.particles[x];if(z.age<m){z.update(s);if(z.age<0){continue}k.globalAlpha=1-(z.age/m);k.beginPath();k.fillStyle="#ff4d6d";k.arc(z.position.x,z.position.y,1.5,0,Math.PI*2);k.fill()}}if(Math.random()<0.3){a.add(new Point((Math.random()-0.5)*settings.particles.velocity,(Math.random()-0.5)*settings.particles.velocity),w.x,w.y)}window.requestAnimationFrame(g)}function d(){b.width=i.width=window.innerWidth;b.height=i.height=window.innerHeight}function c(){b=document.getElementById("pinkboard");i=document.createElement("canvas");k=b.getContext("2d");h=i.getContext("2d");d();g()}setTimeout(function(){c();window.onresize=d},500)})(window);
</script>
</body>
</html>
